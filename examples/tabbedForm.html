<!-- When rendered this example really doesn't look like much, but the
     idea behind storkCore is to provide the logic, while the look is 
     built with CSS. The look of this widget can be quite seriously tweaked
     with CSS! -->

<html>
  <body>
    <script type="text/javascript">
      var StorkCoreRoot = "../"
    </script>

    <script type="text/javascript" src="../storkCore.js"></script>

    <div class="multi_form_select" id="exampleDialog" 
	 style="display: block; text-align: left; margin-left: 2.5em;">
      <div class="content" style="text-align: center;">
	<p>
	  Loading
	</p>
      </div>
    </div>

    <!-- Container div for forms to be showed in 'exampleDialog' by
	 storkCore tabbed view -->
    <div style="display:none;">
      <form method="post" id="personForm" action="">
	<div class="form_content" style="min-width: 25em; min-height: 11em;">
	  <center>
	    <div class="info_layout">
	      <div class="info">
		Enter details of person
	      </div>
	    </div>

	    <table style="margin-top: 1.5em;">
	      <tr>
		<td><label>Name</label><td><input type="text" name="name"></td>
	      </tr>
	      <tr>
		<td></td>
		<td>
		  <input type="submit" name="person" value="Save Person">
		</td>
	      </tr>
	    </table>
	  </center>
	</div>  <!-- form_content -->
      </form>

      <form method="post" id="companyForm" action="">
	<div class="form_content" style="min-width: 25em; min-height: 11em;">
	  <center>
	    <div class="info_layout">
	      <div class="info">
		Enter details of company
	      </div>
	    </div>

	    <table>
	      <tr>
		<td><label>Company Name</label></td>
		<td><input type="text" name="company"></td>
	      </tr>
	      <tr>
		<td><label>Contact Name</label></td>
		<td><input type="text" name="contact"></td>
	      </tr>
	      <tr>
		<td></td>
		<td>
		  <input type="submit" name="company" value="Save Company">
		</td>
	    </table>
	  </center>
	</div>  <!-- form_content -->
      </form>
    </div>

    <!-- Storkcore tab selection -->
    <script type="text/javascript">

      // This is called once document has loaded.
      loadedCallback = function() {
	  // Controller for the view selection
	  formSelectController = clone(ViewSelectController);  
	  formSelectController.viewOptions = [
	      {text: "Person", value: "person"},
	      {text: "Company", value: "company"}]
	  formSelectController.selectedView = "person";
	  
	  formSelectController.setViewElement("person", "personForm");
	  formSelectController.setViewElement("company", "companyForm");
	  
	  // View for the view selection
	  formSelect = clone(ClickViewSelect);
	  formSelect.parentElement = 
	      document.getElementById("exampleDialog");
	  formSelect.delegate = formSelectController;
	  formSelect.render();
      }

      window.onload = loadedCallback;
    </script>

  </body>
</html>
